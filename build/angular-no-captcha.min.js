"use strict";angular.module("noCAPTCHA",[]).provider("googleGrecaptcha",function(){var a;this.setLanguage=function(b){a=b},this.$get=["$q","$window","$document","$rootScope",function(a,b,c,d){return function(e){var f=a.defer();b.recaptchaOnloadCallback=function(){d.$apply(function(){f.resolve()})};var g=c[0].createElement("script"),h="https://www.google.com/recaptcha/api.js?onload=recaptchaOnloadCallback&render=explicit";return g.type="application/javascript",e&&(h+="&hl="+e),g.src=h,c[0].body.appendChild(g),f.promise}}]}).provider("noCAPTCHA",["googleGrecaptchaProvider",function(a){var b,c,d;this.setSiteKey=function(a){b=a},this.setSize=function(a){c=a},this.setTheme=function(a){d=a},this.setLanguage=function(b){a.setLanguage(b)},this.$get=function(){return{theme:d,siteKey:b,size:c}}}]).directive("noCaptcha",["noCAPTCHA","googleGrecaptcha","$document","$window",function(a,b,c,d){var e=function(){for(var a=c[0].getElementsByClassName("pls-container"),b=0;b<a.length;b++)for(var d=a[b].parentNode;d.firstChild;)d.removeChild(d.firstChild)};return{restrict:"EA",scope:{gRecaptchaResponse:"=",siteKey:"@",size:"@",theme:"@",language:"@",control:"=?",expiredCallback:"=?"},replace:!0,link:function(c,f){function g(a){f.empty(),b(a).then(function(){h=d.grecaptcha.render(f[0],i),j.reset=function(){d.grecaptcha.reset(h),c.gRecaptchaResponse=null}})}c.control=c.control||{};var h,i,j=c.control;if(i={sitekey:c.siteKey||a.siteKey,size:c.size||a.size,theme:c.theme||a.theme,callback:function(a){c.$apply(function(){c.gRecaptchaResponse=a})},"expired-callback":function(){c.expiredCallback&&"function"==typeof c.expiredCallback&&c.$apply(function(){c.expiredCallback()})}},!i.sitekey)throw new Error("Site Key is required");"undefined"!=typeof c.language&&c.$watch("language",function(a){g(a)})||g(),c.$on("$destroy",function(){d.grecaptcha&&d.grecaptcha.reset(h),e()})}}}]);