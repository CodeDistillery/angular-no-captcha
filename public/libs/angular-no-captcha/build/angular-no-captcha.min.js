"use strict";angular.module("noCAPTCHA",[]).service("googleGrecaptcha",["$q","$window","$document","$rootScope",function(a,b,c,d){var e=a.defer();b.recaptchaOnloadCallback=function(){d.$apply(function(){e.resolve()})};var f=c[0].createElement("script");return f.src="https://www.google.com/recaptcha/api.js?onload=recaptchaOnloadCallback&render=explicit",c[0].body.appendChild(f),e.promise}]).provider("noCAPTCHA",function(){var a,b,c;this.setSiteKey=function(b){a=b},this.setSize=function(a){b=a},this.setTheme=function(a){c=a},this.$get=[function(){return{theme:c,siteKey:a,size:b}}]}).directive("noCaptcha",["noCAPTCHA","googleGrecaptcha","$document","$window",function(a,b,c,d){var e=function(){for(var a=c[0].getElementsByClassName("pls-container"),b=0;b<a.length;b++)for(var d=a[b].parentNode;d.firstChild;)d.removeChild(d.firstChild)};return{restrict:"EA",scope:{gRecaptchaResponse:"=",siteKey:"@",size:"@",theme:"@",control:"=?",expiredCallback:"=?"},replace:!0,link:function(c,f){c.control=c.control||{};var g,h,i=c.control;if(h={sitekey:c.siteKey||a.siteKey,size:c.size||a.size,theme:c.theme||a.theme,callback:function(a){c.$apply(function(){c.gRecaptchaResponse=a})},"expired-callback":function(){c.expiredCallback&&"function"==typeof c.expiredCallback&&c.$apply(function(){c.expiredCallback()})}},!h.sitekey)throw new Error("Site Key is required");b.then(function(){g=d.grecaptcha.render(f[0],h),i.reset=function(){d.grecaptcha.reset(g),c.gRecaptchaResponse=null}}),c.$on("$destroy",function(){d.grecaptcha&&d.grecaptcha.reset(g),e()})}}}]);